<!-- Branding Header -->
<div class="branding-container">
  <div class="branding-left">
    <img src="assets\logo.PNG" alt="hy logo" class="logo" />
    <span class="brand-name"></span>
  </div>
  <div class="branding-right">
    <span>Already a member?<a routerLink="/login"> Login</a></span>
  </div>
</div>

<!-- Centered Heading -->
<div class="registration-heading">
  <h2>Let's get you started</h2>
  <p>Enter the details to get going</p>
</div>

<!-- Form Section -->
<div class="container">
  <div class="form-section">
    <form
      *ngIf="registrationForm"
      [formGroup]="registrationForm"
      (ngSubmit)="onSubmit()"
    >
      <h3>General Details</h3>

      <div class="form-grid">
        <div class="form-group">
          <label>First Name *</label>
          <input
            type="text"
            formControlName="firstName"
            placeholder="First Name"
            [class.invalid]="firstName?.invalid && firstName?.touched"
          />
          <div class="error" *ngIf="firstNameErrors">
            <span *ngIf="firstNameErrors.required"
              >First Name is required.</span
            >
          </div>
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input
            type="text"
            formControlName="lastName"
            placeholder="Last Name"
          />
        </div>

        <div class="form-group">
          <label>Date of birth *</label>
          <input
            type="date"
            formControlName="dob"
            required
            [class.invalid]="dob?.invalid && dob?.touched"
          />

          <div class="error" *ngIf="dobErrors">
            <span *ngIf="dobErrors.required">Date of birth is required.</span>
            <span *ngIf="dobErrors.underage"
              >You must be at least 18 years old.</span
            >
          </div>
        </div>

        <div class="form-group">
          <label>Gender *</label>
          <select formControlName="gender" required>
            <option disabled selected>I'd prefer not to say</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>

        <div class="form-group">
          <label>Country/Region *</label>
          <select formControlName="country" required>
            <option>Select</option>
            <option>India</option>
            <option>USA</option>
          </select>
        </div>

        <div class="form-group">
          <label>State *</label>
          <select formControlName="state" required>
            <option>Select State</option>
            <option>Andhra Pradesh</option>
            <option>Telangana</option>
            <option>Bihar</option>
            <option>Tamil Nadu</option>
            <option>Kerala</option>
            <option>Odisha</option>
            <option>Punjab</option>
            <option>Karnataka</option>
            <option>Goa</option>
            <option>Maharashtra</option>
            <option>Uttar Pradesh</option>
            <option>Nagaland</option>
            <option>Delhi</option>
            <option>Jammu & Kashmir</option>
            <option>West Bengal</option>
            <option>Meghalaya</option>
            <option>Himachal Pradesh</option>
            <option>Haryana</option>
          </select>
        </div>

        <div class="form-group">
          <label>Pin Code *</label>
          <input
            type="text"
            formControlName="pinCode"
            placeholder="Enter your area’s pin Code"
            required
          />
        </div>

        <div class="form-group">
          <label>Time zone *</label>
          <select formControlName="timeZone" required>
            <option>Select</option>
            <option>IST</option>
            <option>GMT</option>
            <option>EST</option>
            <option>UTC</option>
            <option>CST</option>
          </select>
        </div>

        <div class="form-group">
          <label>Email address *</label>
          <input
            type="email"
            formControlName="email"
            placeholder="Email address"
            [class.invalid]="email?.invalid && email?.touched"
          />

          <div class="error" *ngIf="emailErrors">
            <span *ngIf="emailErrors.required">Email is required.</span>
            <span *ngIf="emailErrors.pattern"
              >Please enter a valid email address.</span
            >
          </div>
          <button type="button" class="send-otp-btn" (click)="sendvOtp()">
            Send OTP
          </button>
          <div class="otp-verification" *ngIf="otpSent && !emailVerified">
  <input
    type="text"
    formControlName="otp"
    maxlength="6"
    placeholder="Enter OTP"
    class="form-control otp-input"
  />
  <button type="button" class="verify-otp-btn" (click)="verifyOtp()">
    Verify OTP
  </button>
</div>

<!-- Email Verified Label -->
<div class="verified-message" *ngIf="emailVerified">
  ✅ Email Verified
</div>
        </div>


        <div class="form-group">
          <label>Phone number *</label>
          <input
            type="tel"
            formControlName="phone"
            placeholder="Phone number"
            [class.invalid]="phone?.invalid && phone?.touched"
          />
          <div class="error" *ngIf="phoneErrors">
            <span *ngIf="phoneErrors.required">Phone number is required.</span>
            <span *ngIf="phoneErrors.pattern"
              >Phone number must be exactly 10 digits.</span
            >
          </div>
        </div>

        <div class="form-group">
          <label>Create Password *</label>
          <input
            type="password"
            formControlName="password"
            placeholder="********"
            required
            [class.invalid]="password?.invalid && password?.touched"
          />
          <div class="error" *ngIf="passwordErrors">
            <span *ngIf="passwordErrors.required">Password is required.</span>
            <span *ngIf="passwordErrors.minLength"
              >Minimum 8 characters required.</span
            >
            <span *ngIf="passwordErrors.pattern">
              Must include at least one uppercase and one lowercase letter.
            </span>
          </div>
        </div>

        <div class="form-group">
          <label>Confirm Password *</label>
          <input
            type="password"
            formControlName="confirmPassword"
            placeholder="********"
            required
          />
        </div>
        <div
          class="error"
          *ngIf="registrationForm.errors?.['passwordMismatch'] && registrationForm.touched"
        >
          Passwords do not match.
        </div>
      </div>

      <div class="button-row">
        <button type="submit" class="register-btn">Registration</button>
        <button type="button" class="cancel-btn">Cancel</button>
      </div>
    </form>

    <div class="image-section">
      <img src="assets/slate.png" alt="slate" />
    </div>
  </div>
</div>
